{% macro proc_report(proc) -%}
{# args:
    proc (dict) - analysis_driver_proc from the Rest API.
#}


{{ proc['species contamination check']['end_date'] }}

{% set mydict = proc.stages %}




    {% set counter = 1 %}
    {% for s in proc.stages %}







    {% endfor %}





    <html>
    <!DOCTYPE html>
    <body>
    <script src="../static/node_modules/vis/dist/vis.js"></script>
    <link href="{{ url_for('static', filename='node_modules/vis/dist/vis.css') }}" rel="stylesheet" type="text/css" />
    <div id="visualization"></div>
    <style type="text/css">
        body, html {
          font-family: sans-serif;
        }
      </style>

    <script type="text/javascript">
      // DOM element where the Timeline will be attached
      var container = document.getElementById('visualization');

      // Create a DataSet (allows two way data-binding)
      var items = new vis.DataSet([
        {id: 1, content: "{{ temp2 }}", start: '2016-05-23 10:55:11', end: '2016-05-23 12:12:11'},
        {id: 2, content: 'item 2', start: '2016-05-23 16:45:11', end: '2016-05-23 19:05:11'}
      ]);

      // Configuration for the Timeline
      var options = {};

      // Create a Timeline
      var timeline = new vis.Timeline(container, items, options);
    </script>
    </body>
    </html>


{%- endmacro %}


{% macro proc_report(procs) -%}
{# args:
    procs (list[dict]) - analysis_driver_procs from the Rest API.
#}

    <div id="analysis_driver_proc_tabs" class="tab-content">
    <h2>Analysis Driver processes</h2>
    <p>Number of times processed: {{ procs|length }}</p>
    {% if procs %}
        <ul class="nav nav-tabs" id="analysis_driver_proc_ul">
            <li class="nav active"><a data-target="#analysis_driver_proc_1_tab" data-toggle="tab">{{ procs[0]._created }}</a></li>
            {% for proc in procs[1:] %}
                <li class="nav"><a data-target="#analysis_driver_proc_{{ loop.index + 1 }}_tab" data-toggle="tab">{{ proc._created }}</a></li>
            {% endfor %}
        </ul>
        <div id="analysis_driver_proc_1_tab" class="tab-pane fade in active"> {{ proc_display(procs[0]) }} </div>
        {% for proc in procs[1:] %}
            <div id="analysis_driver_proc_{{ loop.index + 1 }}_tab" class="tab-pane fade"> {{ proc_display(proc) }} </div>
        {% endfor %}
    {% endif %}
    </div>

{%- endmacro %}