{% extends 'reporting_base.html' %}

{% block head %}
    {{ super() }}

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="{{ url_for('static', filename='charts.js') }}"></script>
    <script type="text/javascript">

    google.charts.load('current', {packages: ['corechart', 'line', 'bar', 'controls', 'table']});
    google.charts.setOnLoadCallback(drawCharts);

    function drawCharts() {
        var charts = plotCharts;
        // Get the run data from the REST API
        $.ajax({
          url: '{{ api_url|safe }}',
          dataType: "json",
          async: true,
          headers: {'Authorization': '{{ ajax_token | safe}}'},
          success: function(json) { charts(json['data']); }
        });

    }
    </script>

{% endblock %}

{% block content %}
<div id="dashboard_div">
    <input type="radio" id="ShowRunWeeks" name="radio_button1" checked="checked">Show Weeks</input>
    <input type="radio" id="ShowRunMonths" name="radio_button1">Show Months</input>
    <div id="run_yield_by_date"><!-- Line chart renders here --></div>
    <div id="cumulative_run_yield_by_date"></div>
    <div id="samples_sequenced"></div>
    <div id="control_div"><!-- Controls renders here --></div>
    <center><div id="table_run_yield_by_date"><!-- Table renders here --></div></center>
</div>
{% endblock %}