{% extends 'reporting_base.html' %}

{% block head %}
    {{ super() }}

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="{{ url_for('static', filename='charts.js') }}"></script>
    <script type="text/javascript">

    google.charts.load('current', {packages: ['corechart', 'line', 'bar']});
    google.charts.setOnLoadCallback(drawCharts);

    function drawCharts() {
          var pipeline_type = "{{ pipeline }}";
          if (pipeline_type == 'runs') {
            runCharts({{ hist | safe }}, {{ yield2date | safe }});
          } else if (pipeline_type == 'samples') {
            sampleCharts({{ samples_sequenced | safe }}, {{ hist | safe }});
        }
    }

    </script>

{% endblock %}

{% block content %}
{% if pipeline == 'runs' %}
    <div id="yield_histogram"></div>
    <div id="run_yield_by_date"></div>
    <div id="cumulative_run_yield_by_date"></div>
{% else %}
    <div id="yield_histogram"></div>
    <div id="run_yield_by_date"></div>
    <div id="cumulative_run_yield_by_date"></div>
    <div id="samples_sequenced" style="width: 900px; height: 500px;"></div>

    <button type="button" id="ShowMonths"  >Show Months</button>
    <button type="button" id="ShowWeeks"  >Show Weeks</button>

{% endif %}

{% endblock %}