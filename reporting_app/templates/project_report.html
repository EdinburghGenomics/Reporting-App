{% extends 'reporting_base.html' %}
{% from 'datatable.html' import datatable, dt_header %}

{% block title %}Project report{% endblock %}
{% block head %}
    {{ super() }}
    {{ dt_header() }}
{% endblock %}

{% block content %}

<h1>Report for {{ project }}</h1>
{{ tab_sets }}
{% for tab_set in tab_sets %}
<div id="{{ tab_set.name }}_tabs">

    <ol>
        {% for table in tab_set.datatables %}
        <li><a href="#{{ table.name }}_tab"><span>{{ table.title }}</span></a></li>
        {% endfor %}
    </ol>

    {% for table in tab_set.datatables %}
    <div id="{{ table.name }}_tab">
        {{ datatable(table.name, table.cols, table.api_url) }}
    </div>
    {% endfor %}

</div>

<script>
{% for tab_set in tab_sets %}
$("#{{ tab_set.name }}_tabs").tabs();
{% endfor %}
</script>

{% endfor %}

{% endblock %}
